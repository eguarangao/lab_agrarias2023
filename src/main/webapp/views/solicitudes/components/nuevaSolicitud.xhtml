<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:f="http://xmlns.jcp.org/jsf/core">
    <div class="card" align="center">
        <p:toolbarGroup id="tol">
            <p:outputLabel value="#{solicitudBeann.tipoSolicitud.toString()}"> </p:outputLabel>
        </p:toolbarGroup>
    </div>
    <div class="card ui-fluid">
        <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true"/>
        <p:growl id="mesa" showDetail="true" skipDetailIfEqualsSummary="true"/>
        <p:messages id="messages" showDetail="true" autoUpdate="true" />
        <div class="p-formgrid p-grid">


            <!--LABORATORIO  -->
            <div class="field p-col-12 p-md-3">
                <p:outputLabel value="Laboratorios"/>
                <!--SELECT LABORATORIOS-->
                <p:selectOneMenu id="selectLaboratorios"
                                 value="#{solicitudBeann.idLaboratorio}">
                    <f:selectItem itemLabel="Seleccione laboratorio" noSelectionOption="true"/>
                    <f:selectItems value="#{solicitudBeann.laboratorios}" var="lab"
                                   itemLabel="#{lab.nombre}" itemValue="#{lab.id}"/>
                    <p:ajax event="change" listener="#{solicitudBeann.FindAllEquipos()}"
                            update="calendarReserva selectHoras"/>
                </p:selectOneMenu>
            </div>

            <div class="field p-col-12 p-md-3">
                <p:outputLabel for="calendarReserva" value="Fecha de Reserva"/>
                <p:calendar id="calendarReserva"
                            disabled="#{solicitudBeann.idLaboratorio == 0}"
                            locale="es"
                            value="#{solicitudBeann.fechaReserva}">
                    <p:ajax event="dateSelect" listener="#{solicitudBeann.listHoras}" update="selectHoras :formS "/>
                </p:calendar>
            </div>

            <!--JORNADA  -->
            <!--                <div class="field p-col-12 p-md-3 mb-4">-->
            <!--                    <p:outputLabel value="Horas" for="selectHoras" />-->
            <!--                    <p:selectManyCheckbox id="selectHoras" value="#{solicitudBeann.itemsSelecionados}" layout="pageDirection">-->
            <!--                        <f:selectItems value="#{solicitudBeann.items}" var="hor" itemLabel="#{hor.fecha}" itemValue="#{hor.dato}" itemDisabled="#{not hor.dato}" />-->
            <!--                        <p:ajax update="@this" process="@this" />-->
            <!--                    </p:selectManyCheckbox>-->
            <!--                </div>-->


            <!--                JORNADA-->
            <!--                <div class="field p-col-12 p-md-3 mb-4">-->
            <!--                    <p:outputLabel for="selectHoras" value="Horario"/>-->
            <!--&lt;!&ndash;                    <p:selectManyMenu id="selectHoras" value="#{solicitudBeann.itemsSelecionados}" style="width: 200px;" filterMatchMode="contains" filterNormalize="true"&ndash;&gt;-->
            <!--&lt;!&ndash;                                      showCheckbox="true" styleClass="manymenu-advanced">&ndash;&gt;-->
            <!--&lt;!&ndash;                        <f:selectItems value="#{solicitudBeann.items}" var="hor" itemLabel="#{hor.fecha}" itemValue="#{hor.dato}" itemDisabled="#{not hor.dato}" />&ndash;&gt;-->
            <!--&lt;!&ndash;&lt;!&ndash;                        <p:ajax update="@this" process="@this" />&ndash;&gt;&ndash;&gt;-->
            <!--&lt;!&ndash;                    </p:selectManyMenu>&ndash;&gt;-->

            <!--                    <p:selectManyButton  id="selectHoras" value="#{solicitudBeann.itemsSelecionados}" >-->
            <!--                        <f:selectItems value="#{solicitudBeann.items}" var="hor" itemLabel="#{hor.fecha}" itemValue="#{hor.dato}" itemDisabled="#{not hor.dato}" />-->
            <!--                    </p:selectManyButton>-->

            <!--                </div>-->


            <div class="p-field p-col-12 p-md-6">
<!--                <p:outputLabel for="selectHoras" value="Horas"/>-->
<!--                &lt;!&ndash;                        <p:selectCheckboxMenu id="selectHoras"  label="Cities"&ndash;&gt;-->
<!--                &lt;!&ndash;                                              multiple="true"  scrollHeight="250"&ndash;&gt;-->
<!--                &lt;!&ndash;                                              value="#{solicitudBeann.itemsSelecionados}" showSelectAll="true">&ndash;&gt;-->
<!--                &lt;!&ndash;                          <f:selectItems value="#{solicitudBeann.items}" var="hor" itemLabel="#{hor.fecha}" itemValue="#{hor.dato}" itemDisabled="#{not hor.dato}" />&ndash;&gt;-->
<!--                &lt;!&ndash;                          </p:selectCheckboxMenu>&ndash;&gt;-->

                <p:selectManyCheckbox id="selectHoras" value="#{solicitudBeann.itemsSelecionados}"
                                      layout="responsive" columns="3"

                                      onchange="#{solicitudBeann.imprimir()}" styleClass="text-danger" >
                    <f:selectItems value="#{solicitudBeann.items}" var="item" itemLabel="#{item.fecha}"
                                   itemDisabled="#{not item.dato or solicitudBeann.desactivarElementos }" itemValue="#{item}" />
                    <p:ajax event="change" listener="#{solicitudBeann.imprimir()}" update="selectHoras"/>
                </p:selectManyCheckbox>
                <p:message id="mensajeError" for="selectHoras" display="text" />

<!--                <p:message for="selectHoras" />-->
                <p:commandButton value="imprimir"  actionListener="#{solicitudBeann.imprimir()}" />
            </div>


        </div>


        <div class="p-formgrid p-grid">
            <!--TEMA  -->
            <div class="field p-col-12 p-md-6">
                <p:outputLabel for="tema" value="Tema"/>
                <p:inputText id="tema" value="#{solicitudBeann.solicitud.tema}" maxlength="35"/>
            </div>
            <!--OBJETIVO  -->
            <div class="field p-col-12 p-md-6">
                <p:outputLabel for="objetivo" value="Objetivo"/>
                <p:inputText id="objetivo" value="#{solicitudBeann.solicitud.objetivo}" maxlength="35"/>
            </div>
            <!--ANALISIS  -->
            <div class="field p-col-12 p-md-5">
                <p:outputLabel for="analisis" value="An치lisis"/>
                <p:inputText id="analisis" value="#{solicitudBeann.solicitud.analisis}" maxlength="35"/>
            </div>


            <div class="field p-col-12 p-md-2">
                <p:outputLabel for="codigo" value="C칩digo"/>
                <p:inputText id="codigo" value="#{solicitudBeann.solicitud.codigo}" maxlength="35"/>
            </div>
            <div class="field p-col-12 p-md-2">
                <p:outputLabel for="periodo" value="Periodo"/>
                <p:selectOneMenu id="periodo"
                                 value="#">
                    <f:selectItem itemLabel="Seleccione su periodo"
                                  itemValue="0"/>
                    <f:selectItem itemLabel="2023-2024"
                    >
                    </f:selectItem>
                    <f:selectItem itemLabel="2025-2026"
                    >
                    </f:selectItem>
                </p:selectOneMenu>
            </div>
            <!--Docente  -->
            <div class="field p-col-12 p-md-3">
                <p:outputLabel for="docente" value="Docente"/>
                <p:inputText id="docente" value="#{solicitudBeann.docente}" maxlength="35" disabled=""/>
            </div>
        </div>

        <!-- EQUIPOS -->
        <div class="card" style="margin-top: 5px;">
            <div class="p-grid p-justify-around">
                <div class="p-field p-col-12 p-md-12">
                    <p:fieldset legend="EQUIPOS REQUERIDOS">
                        <p:selectCheckboxMenu id="comboEquipos" label="Cities" style="min-width: 15rem"
                                              value="#{solicitudBeann.equiposRequeridos}"
                                              multiple="true" filter="true" filterMatchMode="startsWith"
                                              panelStyle="width: 30rem" scrollHeight="250">
                            <f:selectItems value="#{solicitudBeann.equipos}"
                                           var="equipo"
                                           itemLabel="#{equipo.descripcion}"
                                           itemValue="#{equipo.id}"/>
                        </p:selectCheckboxMenu>
                    </p:fieldset>
                </div>
            </div>

            <div class="p-grid p-justify-around">
                <div class="p-field p-col-12 p-md-4">
                    <p:fieldset legend="Documento de resoluci칩n">
                        <p:fileUpload mode="simple" skinSimple="true"
                                      value="#{solicitudBeann.fileResolucionPDF}"
                                      label="Subir resoluci칩n"
                                      sizeLimit="10485760"
                                      allowTypes="/(\.|\/)(pdf)$/"/>
                    </p:fieldset>
                </div>
                <div class="p-field p-col-12 p-md-4">
                    <p:fieldset legend="Lista de estudiantes">
                        <p:fileUpload mode="simple" widgetVar="ff"
                                      value="#{solicitudBeann.fileListaEstudiantes}"
                                      label="Subir lista de estudiantes"
                                      skinSimple="true"
                                      sizeLimit="10485760"
                                      allowTypes="/(\.|\/)(xlsx)$/"/>
                    </p:fieldset>
                </div>
            </div>
        </div>

        <div class="p-grid p-justify-end">
            <div class="p-col-2">
                <p:commandButton value="Guardar"
                                 icon="pi pi-check"
                                 ajax="false"
                                 actionListener="#{solicitudBeann.save()}"
                />
            </div>
            <div class="p-col-2">
                <p:commandButton value="Cerrar" icon="pi pi-times"
                                 styleClass="ui-button-danger" process="@this"
                />
            </div>
        </div>
    </div>

</ui:composition>