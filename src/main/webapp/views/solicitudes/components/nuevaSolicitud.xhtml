<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core">
    <div class="card" align="center">
        <p:toolbarGroup id="tol">
            <p:outputLabel value="#{solicitudBeann.tipoSolicitud.toString()}"> </p:outputLabel>
        </p:toolbarGroup>
    </div>
    <div class="card ui-fluid">
        <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true"/>
        <p:growl id="mesa" showDetail="true" skipDetailIfEqualsSummary="true"/>
        <p:messages id="messages" showDetail="true" autoUpdate="true" />
        <div class="p-formgrid p-grid">

            <!--LABORATORIO  -->
            <div class="field p-col-12 p-md-3">
                <p:outputLabel value="Laboratorios"/>
                <!--SELECT LABORATORIOS-->
                <p:selectOneMenu id="selectLaboratorios"
                                 value="#{solicitudBeann.idLaboratorio}"  required="true">
                    <f:selectItem itemLabel="Seleccione laboratorio" noSelectionOption="true"/>
                    <f:selectItems value="#{solicitudBeann.laboratorios}" var="lab"
                                   itemLabel="#{lab.nombre}" itemValue="#{lab.id}"/>
                    <p:ajax event="change" listener="#{solicitudBeann.FindAllEquipos()}"
                            update="calendarReserva selectHoras"/>
                </p:selectOneMenu>
            </div>

            <!--FECHA RESERVA-->
            <div class="field p-col-12 p-md-3">
                <p:outputLabel for="calendarReserva" value="Fecha de Reserva"/>
                <p:calendar id="calendarReserva"
                            disabled="#{solicitudBeann.idLaboratorio == 0}"
                            locale="es"
                            value="#{solicitudBeann.fechaReserva}"
                            required="true">
                    <p:ajax event="dateSelect" listener="#{solicitudBeann.listHoras}" update="selectHoras :formS "/>
                </p:calendar>
            </div>


            <!--HORAS-->
            <div class="p-field p-col-12 p-md-6">
<!--                <p:selectManyCheckbox id="selectHoras" value="#{solicitudBeann.itemsSelecionados}"-->
<!--                                      layout="responsive" columns="3"-->

<!--                                      onchange="#{solicitudBeann.imprimir()}" styleClass="text-danger" >-->
<!--                    <f:selectItems value="#{solicitudBeann.items}" var="item" itemLabel="#{item.fecha}"-->
<!--                                   itemDisabled="#{not item.dato or solicitudBeann.desactivarElementos }" itemValue="#{item}" />-->
<!--                    <p:ajax event="change" listener="#{solicitudBeann.imprimir()}" update="selectHoras"/>-->
<!--                </p:selectManyCheckbox>-->

                <p:selectManyCheckbox id="selectHoras" value="#{solicitudBeann.itemsSelecionados}"
                                      layout="responsive" columns="3" onchange="#{solicitudBeann.imprimir()}">
                    <f:selectItems value="#{solicitudBeann.items}" var="item" itemLabel="#{item.fecha}"
                                   itemDisabled="#{not item.dato or solicitudBeann.desactivarElementos}"
                                   itemValue="#{item}" style="color: #{item.dato ? 'black' : 'red'};" />
<!--                    <p:ajax event="change" listener="#{solicitudBeann.imprimir()}" update="selectHoras" />-->
                </p:selectManyCheckbox>


                <p:message id="mensajeError" for="selectHoras" display="text" />
            </div>
        </div>


        <div class="p-formgrid p-grid">
            <!--TEMA  -->
            <div class="field p-col-12 p-md-6">
                <p:outputLabel for="tema" value="Tema"/>
                <p:inputText id="tema" value="#{solicitudBeann.solicitud.tema}" maxlength="35"  required="true"/>
            </div>
            <!--OBJETIVO  -->
            <div class="field p-col-12 p-md-6">
                <p:outputLabel for="objetivo" value="Objetivo"/>
                <p:inputText id="objetivo" value="#{solicitudBeann.solicitud.objetivo}" maxlength="35"  required="true"/>
            </div>
            <!--ANALISIS  -->
            <div class="field p-col-12 p-md-5">
                <p:outputLabel for="analisis" value="Análisis"/>
                <p:inputText id="analisis" value="#{solicitudBeann.solicitud.analisis}" maxlength="35"  required="true"/>
            </div>


            <!--CODIGO-->
            <div class="field p-col-12 p-md-2">
                <p:outputLabel for="codigo" value="Código"/>
                <p:inputText id="codigo" value="#{solicitudBeann.solicitud.codigo}" maxlength="35"  required="true"/>
            </div>

            <!--PERIODO-->
            <div class="field p-col-12 p-md-2">
                <p:outputLabel for="periodo" value="Periodo"/>
                <p:selectOneMenu id="periodo" value="#{solicitudBeann.idPerido}" editable="false">
                    <f:selectItem itemLabel="Seleccione Periodo" noSelectionOption="true"  required="true"/>
                    <f:selectItems value="#{solicitudBeann.periodos}" var="periodo"
                                   itemLabel="#{periodo.namePeriodo}" itemValue="#{periodo.id}"/>
                </p:selectOneMenu>
            </div>


            <!--DOCENE  -->
            <div class="field p-col-12 p-md-3">
                <p:outputLabel for="docente" value="Docente"/>
                <p:inputText id="docente" value="#{solicitudBeann.nombreDocente}" maxlength="35" disabled=""/>
            </div>
        </div>

        <!-- EQUIPOS -->
        <div class="card" style="margin-top: 5px;">
            <div class="p-grid p-justify-around">
                <div class="p-field p-col-12 p-md-12">
                    <p:fieldset legend="EQUIPOS REQUERIDOS">
                        <p:selectCheckboxMenu id="comboEquipos" label="Cities" style="min-width: 15rem"
                                              value="#{solicitudBeann.equiposRequeridos}"
                                              multiple="true" filter="true" filterMatchMode="startsWith"
                                              panelStyle="width: 30rem" scrollHeight="250"  required="true">
                            <f:selectItems value="#{solicitudBeann.equipos}"
                                           var="equipo"
                                           itemLabel="#{equipo.descripcion}"
                                           itemValue="#{equipo}"/>
                        </p:selectCheckboxMenu>
                    </p:fieldset>
                </div>
            </div>

            <!--PDF RESOLUCIÓN-->
            <div class="p-grid p-justify-around">
                <div class="p-field p-col-12 p-md-4">
                    <p:fieldset legend="Documento de resolución">
                        <p:fileUpload mode="simple" skinSimple="true"
                                      value="#{solicitudBeann.fileResolucionPDF}"
                                      label="Subir resolución"
                                      sizeLimit="10485760"
                                      allowTypes="/(\.|\/)(pdf)$/"
                                      required="true"
                        />
                    </p:fieldset>
                </div>

                <!--EXCELL - LISTA ESTUDIANTES-->
                <div class="p-field p-col-12 p-md-4">
                    <p:fieldset legend="Lista de estudiantes">
                        <p:fileUpload mode="simple" widgetVar="ff"
                                    value="#{solicitudBeann.fileListaEstudiantes}"
                                      label="Subir lista de estudiantes"
                                      skinSimple="true"
                                      sizeLimit="10485760"
                                      allowTypes="/(\.|\/)(xlsx)$/"
                                      required="true"
                        />
                    </p:fieldset>
                </div>
            </div>
        </div>

        <!--BOTÓN GUARDAR-->
        <div class="p-grid p-justify-end">
            <div class="p-col-2">
                <p:commandButton value="Guardar"
                                 icon="pi pi-check"
                                 ajax="false"
                                 actionListener="#{solicitudBeann.save()}"
                />
            </div>

        <!--BOTÓN CANCELAR-->
            <div class="p-col-2">
                <p:commandButton value="Cerrar" icon="pi pi-times"
                                 styleClass="ui-button-danger" process="@this"
                />
            </div>
        </div>
    </div>

    <h:outputStylesheet library="css" name="myCss.css"/>

</ui:composition>